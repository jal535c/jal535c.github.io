{"version":3,"sources":["../debug_es5/ojdomscroller.js"],"names":["define","oj","$","DataCollectionUtils","Logger","Object","prototype","hasOwnProperty","call","DomScroller","element","dataprovider","options","this","_data","_asyncIterator","asyncIterator","_element","_contentElement","contentElement","_fetchSize","fetchSize","_maxCount","maxCount","_rowCount","initialRowCount","_successCallback","success","_requestCallback","request","_errorCallback","error","_isOverflowCallback","isOverflow","_beforeFetchCallback","beforeFetch","_beforeScrollCallback","beforeScroll","_localKeyValidator","localKeyValidator","_registerDataSourceEventListeners","_fetchTrigger","fetchTrigger","isNaN","_offsetTop","offsetTop","_initialScrollTop","scrollTop","_lastFetchTrigger","_isScrollTriggeredByMouseWheel","_checkViewportCount","elem","_getScrollEventElement","_scrollEventListener","maxScrollTop","clientHeight","scrollHeight","_handleScrollerScrollTop","bind","addEventListener","_wheelEventListener","passive","_mouseDownEventListener","setAsyncIterator","setFetchTrigger","document","body","documentElement","window","calculateOffsetTop","ancestor","offset","current","contains","offsetParent","destroy","_unregisterDataSourceEventListeners","removeEventListener","checkViewport","forceFetch","CHECKVIEWPORT_THRESHOLD","warn","_fetchMoreRows","Promise","resolve","_doFetch","self","isMouseWheel","_fetchPromise","then","result","_nextFetchTrigger","undefined","reason","_lastMaxScrollTop","Math","max","_isEndReached","diff","AgentUtils","getAgentInfo","browser","BROWSER","EDGE","remainingCount","next","_result","value","data","length","maxCountLimit","slice","metadata","fetchParameters","size","done","_handleDataRowMutateEvent","event","eventDetail","indexes","keys","detail","add","addBeforeKeys","afterKeys","_handleDataRowAddedOrRemoved","remove","callback","i","rowIdx","keyValidator","forEach","key","ev","_dataProviderEventHandlers","push","eventType","eventHandler"],"mappings":"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"}